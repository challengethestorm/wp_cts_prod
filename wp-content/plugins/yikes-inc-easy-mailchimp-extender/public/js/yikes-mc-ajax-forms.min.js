!function(a){"use strict";a(document).ready(function(){a("body").on("submit",".yikes-easy-mc-form",function(){var b=a(this);b.find("input, label, button").not(":hidden").fadeTo("fast",.5),b.append('<img src="'+object.preloader_url+'" class="yikes-mailchimp-preloader" />');var c=b.find(".yikes-easy-mc-submit-button").text();b.find(".yikes-easy-mc-submit-button").text("").html('<img src="'+object.loading_dots+'" class="loading-dots" />');var d=b.attr("data-attr-form-id"),e=[];if(b.find(".yikes-interest-group-required").length>0&&b.find(".yikes-interest-group-required").each(function(){var a=jQuery(this).attr("name"),c=a.replace("[]","");if(0==b.find('input[name="'+c+'[]"]:checked').length){var d=b.find("span."+c+"-label").text();e[c]=d}}),!jQuery.isEmptyObject(e)){if(b.find(".yikes-mailchimp-required-interest-group-error").length>0)b.find(".yikes-mailchimp-required-interest-group-error").fadeOut("fast",function(){b.find(".yikes-mailchimp-required-interest-group-error").remove();for(var a in e)b.find("span."+a+"-label").after('<p class="yikes-mailchimp-required-interest-group-error">'+object.interest_group_checkbox_error+"</p>")});else for(var f in e)b.find("span."+f+"-label").after('<p class="yikes-mailchimp-required-interest-group-error">'+object.interest_group_checkbox_error+"</p>");return!1}b.find(".yikes-easy-mc-submit-button").attr("disabled","disabled"),a(".yikes-easy-mc-error-message").remove(),a(".yikes-easy-mc-success-message").remove();var g={action:"process_form_submission",form_data:b.serialize(),form_id:d,page_data:object.page_data};return a.ajax({url:object.ajax_url,type:"POST",data:g,success:function(e,f,g){if(b.find("input, label, button").not(":hidden").fadeTo("fast",1),b.find(".yikes-mailchimp-preloader").remove(),b.find(".yikes-easy-mc-submit-button").html("").text(c),e.success){e=e.data,1==e.hide&&(a(".yikes-easy-mc-form-description-"+d).length>0&&a(".yikes-easy-mc-form-description-"+d).hide(),b.hide()),a(".yikes-easy-mc-form-description-"+d).length>0?a(".yikes-easy-mc-form-description-"+d).before('<p class="yikes-easy-mc-success-message yikes-easy-mc-success-message-'+d+' yikes-easy-mc-hidden">'+e.response+"</p>"):b.before('<p class="yikes-easy-mc-success-message yikes-easy-mc-success-message-'+d+' yikes-easy-mc-hidden">'+e.response+"</p>"),a(".yikes-easy-mc-success-message-"+d).fadeIn(),a(".yikes-mailchimp-required-interest-group-error").remove(),1==e.redirection&&b.before(e.redirect),b.find("input").not(".yikes-easy-mc-submit-button").val("");var h={action:"increase_submission_count",form_id:d};a.ajax({url:object.ajax_url,type:"POST",data:h,success:function(a,b,c){},error:function(a,b,c){console.error(c)}})}else e=e.data,a(".yikes-easy-mc-form-description-"+d).length>0?a(".yikes-easy-mc-form-description-"+d).before('<p class="yikes-easy-mc-error-message yikes-easy-mc-error-message-'+d+'" yikes-easy-mc-hidden"> '+e.response+"</p>"):b.before('<p class="yikes-easy-mc-error-message yikes-easy-mc-error-message-'+d+' yikes-easy-mc-hidden">'+e.response+"</p>"),a(".yikes-easy-mc-error-message").fadeIn()},error:function(a,b,c){console.error(c),console.log(a),console.log(b)},complete:function(a,c){b.find(".yikes-easy-mc-submit-button").removeAttr("disabled","disabled")}}),!1}),a("body").on("click",".send-update-email",function(){var a={action:"easy_forms_send_email",user_email:jQuery(this).attr("data-user-email"),list_id:jQuery(this).attr("data-list-id")};return jQuery(this).parent("p").fadeTo("fast",.75).append('<img src="'+object.preloader_url+'" class="update-email-preloader" />'),jQuery.post(object.ajax_url,a,function(a){a.success?jQuery(".yikes-easy-mc-error-message").removeClass("yikes-easy-mc-error-message").addClass("yikes-easy-mc-success-message").html(a.data.response_text):jQuery(".yikes-easy-mc-error-message").fadeTo("fast",1).html(a.data.response_text)}),!1})})}(jQuery);